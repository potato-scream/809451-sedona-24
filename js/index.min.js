e=document.querySelector(".btn-search-open"),t=document.querySelector(".search-form"),a=document.querySelector("[name=first-day-date]"),o=document.querySelector("[name=last-day-date]"),l=document.querySelector("[name=adults-number]"),r=document.querySelector("[name=kids-number]"),s=!0,u="",c="",n="",m="";try{u=localStorage.getItem("firstDay"),c=localStorage.getItem("lastDay"),n=localStorage.getItem("adults"),m=localStorage.getItem("kids")}catch(e){s=!1}e.addEventListener("click",function(e){e.preventDefault(),t.classList.toggle("form-visible"),t.classList.remove("form-error"),u&&(a.value=u),c&&(o.value=c),n&&(l.value=n),m&&(r.value=m),""===a.value?a.focus():""===o.value?o.focus():""===l.value?l.focus():""===r.value?r.focus():a.focus()}),t.addEventListener("submit",function(e){a.value&&o.value&&l.value&&r.value?s&&(localStorage.setItem("firstDay",a.value),localStorage.setItem("lastDay",o.value),localStorage.setItem("adults",l.value),localStorage.setItem("kids",r.value)):(e.preventDefault(),t.classList.remove("form-error"),t.offsetWidth=t.offsetWidth,t.classList.add("form-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),t.classList.contains("form-visible")&&(t.classList.remove("form-visible"),t.classList.remove("form-error")))})